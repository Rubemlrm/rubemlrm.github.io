<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="https://gmpg.org/xfn/11" rel="profile" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />

  <title>
    
      Script Adb and Linux &middot; Rubem Mota
    
  </title>

  


  <!-- CSS -->
  <link rel="stylesheet" href="/assets/css/main.css" />
  

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface" />

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/favicon.png" />
<link rel="shortcut icon" href="/favicon.ico" />

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml" />

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />

</head>


  <body class="post">

    <div id="sidebar">
  <header>
    <div class="site-title">
      <a href="/">
        
          <span class="back-arrow icon"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
  <path d="M0 0h24v24H0z" fill="none"/>
  <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
</svg></span>
        
        Rubem Mota
      </a>
    </div>
    <p class="lead">Software Developer</p>
  </header>
  <nav id="sidebar-nav-links">
  
    <a class="home-link "
        href="/">Home</a>
  
  

  

  


  

  
    
      <a class="page-link "
          href="/about/">Sobre</a>
    
  

  
    
  

  

  

  
    
  

  
    
  

  
    
  


  


  

  
    
  

  
    
  

  

  

  
    
  

  
    
  

  
    
  


  <!-- Optional additional links to insert in sidebar nav -->
</nav>


  

  <nav id="sidebar-icon-links">
  

  <a id="subscribe-link"
     class="icon" title="Subscribe" aria-label="Subscribe"
     href="/feed.xml">
    <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <circle cx="6.18" cy="17.82" r="2.18"/>
    <path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"/>
</svg>
  </a>

  
  
  
  

  

  

  <a class="icon"
   title="Github" aria-label="Github"
   href="https://github.com/rubemlrm">
   <i class="fab fa-github"></i>
</a>
<a class="icon"
   title="GitLab" aria-label="GitLab"
   href="https://gitlab.com/u/rubemlrm">
   <i class="fab fa-gitlab"></i>
</a>
<a class="icon"
   title="Linkedin" aria-label="Linkedin"
   href="https://www.linkedin.com/in/rubemlrm">
   <i class="fab fa-linkedin"></i>
</a>
<a class="icon"
   title="Twitter" aria-label="Twitter"
   href="https://twitter.com/rubemlrm">
   <i class="fab fa-twitter"></i>
</a>

</nav>

  <p>
  &copy; 2020.
  <a href="/LICENSE.md">MIT License.</a>
</p>

</div>

    <main class="container">
      <header>
  <h1 class="post-title">Script Adb and Linux</h1>
</header>
<div class="content">
  <div class="post-meta">
  <span class="post-date">04 Jan 2012</span>
  <span class="post-categories">
    
      &bull;

      
      
      

      
        scripts
      
    
      &bull;

      
      
      

      
        perl
      
    
      &bull;

      
      
      

      
        adb
      
    
  </span>
</div>


  <div class="post-body">
    <p>Cada vez mais existem pessoas a utilizar Android e Linux e muitas deles tem dificuldades em por o adb a funcionar com Linux por causa de se ter que configurar regras ou então saber os valores para as coisas. Decidi então criar um pequeno script em perl para agilizar este processo e tornando a vida do pessoal mais fácil quando trabalham com isto.</p>

<!--more-->

<figure class="highlight"><pre><code class="language-perl" data-lang="perl"><span class="c1">#Developer by : Rubem Mota</span>
<span class="c1">#Dont use to earn money and keep all copyrights reserved to me</span>
<span class="c1">#Twitter: @rubemlrm</span>
<span class="k">use</span> <span class="nv">strict</span><span class="p">;</span>
<span class="nb">chomp</span><span class="p">(</span><span class="k">my</span> <span class="nv">@rules</span> <span class="o">=</span> <span class="p">(</span>
    <span class="p">'</span><span class="s1">SUBSYSTEM=="usb", SYSFS{idVendor}=="0502", MODE="0666"</span><span class="p">',</span>
    <span class="p">'</span><span class="s1">SUBSYSTEM=="usb", SYSFS{idVendor}=="413c", MODE="0666"</span><span class="p">',</span>
    <span class="p">'</span><span class="s1">SUBSYSTEM=="usb", SYSFS{idVendor}=="0489", MODE="0666"</span><span class="p">',</span>
    <span class="p">'</span><span class="s1">SUBSYSTEM=="usb", SYSFS{idVendor}=="091E", MODE="0666"</span><span class="p">',</span>
    <span class="p">'</span><span class="s1">SUBSYSTEM=="usb", SYSFS{idVendor}=="0bb4", MODE="0666"</span><span class="p">',</span>
    <span class="p">'</span><span class="s1">SUBSYSTEM=="usb", SYSFS{idVendor}=="12d1", MODE="0666"</span><span class="p">',</span>
    <span class="p">'</span><span class="s1">SUBSYSTEM=="usb", SYSFS{idVendor}=="0482", MODE="0666"</span><span class="p">',</span>
    <span class="p">'</span><span class="s1">SUBSYSTEM=="usb", SYSFS{idVendor}=="1004", MODE="0666"</span><span class="p">',</span>
    <span class="p">'</span><span class="s1">SUBSYSTEM=="usb", SYSFS{idVendor}=="22b8", MODE="0666"</span><span class="p">',</span>
    <span class="p">'</span><span class="s1">SUBSYSTEM=="usb", SYSFS{idVendor}=="0955", MODE="0666"</span><span class="p">',</span>
    <span class="p">'</span><span class="s1">SUBSYSTEM=="usb", SYSFS{idVendor}=="10A9", MODE="0666"</span><span class="p">',</span>
    <span class="p">'</span><span class="s1">SUBSYSTEM=="usb", SYSFS{idVendor}=="04e8", MODE="0666"</span><span class="p">',</span>
    <span class="p">'</span><span class="s1">SUBSYSTEM=="usb", SYSFS{idVendor}=="04dd", MODE="0666"</span><span class="p">',</span>
    <span class="p">'</span><span class="s1">SUBSYSTEM=="usb", SYSFS{idVendor}=="0fce", MODE="0666"</span><span class="p">',</span>
    <span class="p">'</span><span class="s1">SUBSYSTEM=="usb", SYSFS{idVendor}=="19D2", MODE="0666"</span><span class="p">'</span>
<span class="p">));</span>
<span class="k">my</span> <span class="nv">@brands</span> <span class="o">=</span> <span class="sx">qw (
 </span>   <span class="nv">Acer</span>
    <span class="nv">Dell</span>
    <span class="nv">Foxconn</span>
    <span class="nv">Garmin</span><span class="o">-</span><span class="nv">Asus</span>
    <span class="nv">HTC</span>
    <span class="nv">Huawei</span>
    <span class="nv">Kyocera</span>
    <span class="nv">LG</span>
    <span class="nv">Motorola</span>
    <span class="nv">Nvidia</span>
    <span class="nv">Pantech</span>
    <span class="nv">Samsung</span>
    <span class="nv">Sharp</span>
    <span class="nv">SonyEricsson</span>
    <span class="nv">ZTE</span>
<span class="p">);</span>
<span class="k">my</span> <span class="nv">$i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="k">my</span> <span class="nv">$uid</span> <span class="o">=</span> <span class="p">`</span><span class="sb">id -u</span><span class="p">`;</span>
<span class="c1">#Checking if user is root or not</span>
<span class="k">if</span> <span class="p">(</span> <span class="nv">$uid</span> <span class="o">!=</span> <span class="mi">0</span> <span class="p">){</span>
    <span class="k">print</span> <span class="p">"</span><span class="s2">you need root priveleges to run this scriptn</span><span class="p">";</span>
<span class="p">}</span><span class="k">else</span><span class="p">{</span>
    <span class="c1">#running the import part of script</span>
    <span class="k">print</span> <span class="p">"</span><span class="s2">------------------------------:n</span><span class="p">";</span>
    <span class="k">print</span> <span class="p">"</span><span class="s2">:Welcome to Adb rule creator :n</span><span class="p">";</span>
    <span class="c1">#it will create the list to choose brand</span>
    <span class="k">foreach</span><span class="p">(</span><span class="nv">@brands</span><span class="p">){</span>
        <span class="k">print</span> <span class="p">"</span><span class="s2">.</span><span class="p">"</span><span class="o">.</span><span class="nv">$i</span><span class="o">++</span> <span class="o">.</span><span class="p">"</span><span class="s2">=&gt;</span><span class="p">"</span><span class="o">.</span> <span class="nv">$_</span> <span class="o">.</span><span class="p">"</span><span class="s2">n</span><span class="p">";</span>
    <span class="p">}</span>
    <span class="k">print</span> <span class="p">"</span><span class="s2">:Choose driver brand:n</span><span class="p">";</span>
    <span class="nb">chomp</span><span class="p">(</span><span class="k">my</span> <span class="nv">$opt</span> <span class="o">=</span> <span class="o">&lt;</span><span class="bp">STDIN</span><span class="o">&gt;</span><span class="p">);</span>
    <span class="c1">#condition to check input</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$opt</span> <span class="o">=~</span> <span class="sr">/D/</span><span class="p">){</span>
        <span class="k">print</span> <span class="p">"</span><span class="s2">Invalid Option choose againn</span><span class="p">";</span>
        <span class="k">print</span> <span class="p">"</span><span class="s2">:Choose driver brand:n</span><span class="p">";</span>
        <span class="nb">chomp</span><span class="p">(</span><span class="k">my</span> <span class="nv">$opt</span> <span class="o">=</span> <span class="o">&lt;</span><span class="bp">STDIN</span><span class="o">&gt;</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">print</span> <span class="p">"</span><span class="s2">It will be created adb rules to </span><span class="p">"</span> <span class="o">.</span> <span class="nv">$brands</span><span class="p">[</span><span class="nv">$opt</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">.</span><span class="p">"</span><span class="s2">n</span><span class="p">";</span>
    <span class="c1">#filehandle to create rule</span>
    <span class="nb">open</span><span class="p">(</span><span class="nv">FILE</span> <span class="p">,</span> <span class="p">"</span><span class="s2">&gt;&gt;/etc/udev/rules.d/51-android.rules</span><span class="p">");</span>
    <span class="k">print</span> <span class="nv">FILE</span> <span class="nv">$rules</span><span class="p">[</span><span class="nv">$opt</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
    <span class="nb">system</span><span class="p">("</span><span class="s2">chmod a+r /etc/udev/rules.d/51-android.rules</span><span class="p">");</span>
    <span class="nb">close</span><span class="p">(</span><span class="nv">FILE</span><span class="p">);</span>
    <span class="k">print</span> <span class="p">"</span><span class="s2">Restarting services</span><span class="p">";</span>
    <span class="nb">system</span> <span class="p">("</span><span class="s2">/etc/init.d/udev restart</span><span class="p">");</span>
    <span class="k">print</span> <span class="p">"</span><span class="s2">All done</span><span class="p">";</span>
<span class="p">}</span></code></pre></figure>

<p>Depois de fazerem download do script façam:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nb">chmod</span> +x &lt;nome de ficheiro&gt;</code></pre></figure>


    



<div class="post-tags">
  
</div>
  </div>

  
  <section class="comments">
    <h2>Comments</h2>
    
  <div id="disqus_thread">
    <button class="disqus-load" onClick="loadDisqusComments()">
      Load Comments
    </button>
  </div>
  <script>

  /**
  *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW
  *  TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
  *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT:s
  *  https://disqus.com/admin/universalcode/#configuration-variables
  */
  var disqus_config = function () {
    this.page.url = "/scripts/perl/adb/2012/01/04/perlscript-adb-and-linux.html";
    this.page.identifier = "" ||
                           "/scripts/perl/adb/2012/01/04/perlscript-adb-and-linux.html";
  }
  function loadDisqusComments() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = '//rubemlrmcom.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  }
  </script>
  <noscript>
    Please enable JavaScript to view the
    <a href="https://disqus.com/?ref_noscript">comments powered by Disqus</a>.
  </noscript>



  </section>

  <section class="related">
  <h2>Related Posts</h2>
  <ul class="posts-list">
    
      <li>
        <h3>
          <a href="/git/svn/dicas/2017/07/20/migrate-from-svn-to-git.html">
            Migração de SVN para GIT
            <small>20 Jul 2017</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2017/07/17/welcome-to-jekyll.html">
            De volta a escrita
            <small>17 Jul 2017</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/tutorial/debian/2013/05/12/converter-debian-wheezy-para-debian-testing.html">
            Converter Debian Wheezy para Debian Testing
            <small>12 May 2013</small>
          </a>
        </h3>
      </li>
    
  </ul>
</section>

</div>

    </main>

    <!-- Optional footer content -->

  </body>
</html>
